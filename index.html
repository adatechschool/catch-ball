<!DOCTYPE html>

<html>

	<head>
	  <meta charset="utf-8">
    <title>Catch Ball</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #333333; display: block; margin: 0 auto; }
    </style>
  </head>
  <body>
		<canvas id= "myCanvas" width= "1250" height= "650"></canvas>
    
		<script>
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");   

			// valeurs pour le paddle
			var paddleHeight = 10;
			var paddleWidth = 75;
			var paddleX = (canvas.width-paddleWidth) / 2;

			// valeurs pour la balle
			var x = canvas.width/2;
			var y = canvas.height-650;
			var dx = 0;
			var dy = 2;

			// valeurs pour les boutons
			var rightPressed = false;
			var leftPressed = false;
			document.addEventListener("keydown", keyDownHandler, false);
			document.addEventListener("keyup", keyUpHandler, false);

			// construction du Paddle
			function drawPaddle() {
				ctx.beginPath();
				ctx.rect(paddleX, canvas.height-paddleHeight, paddleWidth, paddleHeight);
				ctx.fillStyle = "#0095DD";
				ctx.fill();
				ctx.closePath();
			}

			// construction de la balle
			function drawBall() {
				ctx.beginPath();
				ctx.arc(x, y, 10, 0, Math.PI*2);
				ctx.fillStyle = "#0095DD";
				ctx.fill();
				ctx.closePath();
				x += dx;
				y += dy;
			}

			// bouton enfoncé
			function keyDownHandler(e) {
				if(e.keyCode == 39 || e.keyCode == 68) {
						rightPressed = true;
				}
				else if(e.keyCode == 37 || e.keyCode == 81) {
						leftPressed = true;
				}
			}

			// bouton non enfoncé
			function keyUpHandler(e) {
				if(e.keyCode == 39 || e.keyCode == 68) {
						rightPressed = false;
				}
				else if(e.keyCode == 37 || e.keyCode ==81) {
						leftPressed = false;
				}
			}

			// fonction qui execute/dessine les fonctions du dessus
			function draw() {
				ctx.clearRect(0, 0, canvas.width, canvas.height);

				drawBall();

				drawPaddle();

				if(rightPressed && paddleX < canvas.width-paddleWidth) {
						paddleX += 7;
				}
				else if (leftPressed && paddleX > 0) {
						paddleX -= 7;
				}
			}
      setInterval(draw, 10);

    </script>
  </body>
</html>
